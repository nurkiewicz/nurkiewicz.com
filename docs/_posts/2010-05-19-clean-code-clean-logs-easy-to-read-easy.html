---
layout: post
title: 'Clean code, clean logs: easy to read, easy to parse (10/10)'
date: '2010-05-19T23:35:00.004+02:00'
author: Tomasz Nurkiewicz
tags:
- commons
- logging
modified_time: '2010-05-20T18:43:32.823+02:00'
thumbnail: http://2.bp.blogspot.com/_P3ewsGQzHn0/S_RbsVXuRzI/AAAAAAAAAVM/IcD0g7MqJaU/s72-c/The.Matrix.glmatrix.png
blogger_id: tag:blogger.com,1999:blog-6753769565491687768.post-7756002699879628937
blogger_orig_url: https://www.nurkiewicz.com/2010/05/clean-code-clean-logs-easy-to-read-easy.html
---

There are two groups of receivers particularly interested in your application logs: human beings (you might disagree, but programmers belong to this group as well) and computers (typically shell scripts written by system administrators). Logs should be suitable for both of these groups. If someone looking from behind your back at your application logs sees:<br /><br /><div style="text-align: center;"><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_P3ewsGQzHn0/S_RbsVXuRzI/AAAAAAAAAVM/IcD0g7MqJaU/s1600/The.Matrix.glmatrix.png"><img style="display: block; margin: 0px auto 10px; text-align: center; cursor: pointer; width: 200px; height: 160px;" src="http://2.bp.blogspot.com/_P3ewsGQzHn0/S_RbsVXuRzI/AAAAAAAAAVM/IcD0g7MqJaU/s200/The.Matrix.glmatrix.png" alt="" id="BLOGGER_PHOTO_ID_5473100264371013426" border="0" /></a><span style="font-size:78%;">from <a href="http://commons.wikimedia.org/wiki/Category:The_Matrix">Wikipedia</a></span><br /></div><br /><br />then you were probably not reading my tips carefully enough. The reference to famous <a href="http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882">Clean code</a> book in the title of this series is not accidental: logs should be readable and easy to understand just like the code should.<br /><br />On the other hand, if your application produces half GiB of logs each hour, no man and no graphical text editor will ever manage to read them entirely. This is where old-school <a href="http://www.gnu.org/software/grep">grep</a>, <a href="http://www.gnu.org/software/sed">sed</a> and <a href="http://www.gnu.org/software/gawk">awk</a> come in handy. If it is possible, try to write logging messages in such a way, that they could be understood both by humans and computers, e.g. avoid formatting of numbers, use patterns that can be easily recognized by regular expressions, etc. If it is not possible, print the data in two formats:<br /><br /><pre class="brush: java">log.debug("Request TTL set to: {} ({})", new Date(ttl), ttl);<br />// Request TTL set to: Wed Apr 28 20:14:12 CEST 2010 (1272478452437)<br /><br />final String duration = DurationFormatUtils.formatDurationWords(durationMillis, true, true);<br />log.info("Importing took: {}ms ({})", durationMillis, duration);<br />//Importing took: 123456789ms (1 day 10 hours 17 minutes 36 seconds)</pre><br /><br />Computers will appreciate "ms after 1970 epoch" time format, while people would be delighted seeing "<span style="font-style: italic;">1 day 10 hours 17 minutes 36 seconds</span>" text. BTW take a look at <a href="http://commons.apache.org/lang/api-release/org/apache/commons/lang/time/DateFormatUtils.html">DurationFormatUtils</a>, nice tool.<br /><br />I thought this article is going to be short, but after writing it I decided to split it into 10 parts, each in separate post. Hope you enjoyed my logging series, although still not everything has been covered. This only proves how logging is important and how many pitfalls should be avoided. Remember, logging code should also be clean and reading your logs is supposed to be as pleasant as reading your code.<br /><br /><br /><ul><br /><li><a href="http://nurkiewicz.blogspot.com/2010/05/clean-code-clean-logs-use-appropriate.html">Clean code, clean logs: use appropriate tools (1/10)</a></li><br /><li><a href="http://nurkiewicz.blogspot.com/2010/05/clean-code-clean-logs-logging-levels.html">Clean code, clean logs: logging levels are there for you (2/10)</a></li><br /><li><a href="http://nurkiewicz.blogspot.com/2010/05/clean-code-clean-logs-do-you-know-what.html">Clean code, clean logs: do you know what you are logging? (3/10)</a></li><br /><li><a href="http://nurkiewicz.blogspot.com/2010/05/clean-code-clean-logs-avoid-side.html">Clean code, clean logs: avoid side effects (4/10)</a></li><br /><li><a href="http://nurkiewicz.blogspot.com/2010/05/clean-code-clean-logs-concise-and.html">Clean code, clean logs: concise and descriptive (5/10)</a></li><br /><li><a href="http://nurkiewicz.blogspot.com/2010/05/clean-code-clean-logs-tune-your-pattern.html">Clean code, clean logs: tune your pattern (6/10)</a></li><br /><li><a href="http://nurkiewicz.blogspot.com/2010/05/clean-code-clean-logs-log-method.html">Clean code, clean logs: log method arguments and return values (7/10)</a></li><br /><li><a href="http://nurkiewicz.blogspot.com/2010/05/clean-code-clean-logs-watch-out-for.html">Clean code, clean logs: watch out for external systems (8/10)</a></li><br /><li><a href="http://nurkiewicz.blogspot.com/2010/05/clean-code-clean-logs-log-exceptions.html">Clean code, clean logs: log exceptions properly (9/10)</a></li><br /><li>Clean code, clean logs: easy to read, easy to parse (10/10)</li><br /></ul>