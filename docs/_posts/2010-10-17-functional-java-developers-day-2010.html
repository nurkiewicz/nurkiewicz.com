---
layout: post
title: Functional Java Developers’ Day 2010
date: '2010-10-17T16:39:00.001+02:00'
author: Tomasz Nurkiewicz
tags:
- conferences
- scala
modified_time: '2011-11-17T19:06:03.745+01:00'
blogger_id: tag:blogger.com,1999:blog-6753769565491687768.post-2059029815651797737
blogger_orig_url: https://www.nurkiewicz.com/2010/10/functional-java-developers-day-2010.html
---

<b>Ted Neward</b>s’ talk about functional programming in Java and his workshop on Scala (hence the article title) were the most memorable events during the third <a href="http://10.jdd.org.pl/">JDD</a> conference that I attended last week. Sadly most memorable, and almost the only ones. But first things first.<br /><br />After spending endless hours with great <a href="http://www.amazon.com/gp/product/059600978X?ie=UTF8&amp;tag=javaandneighb-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=059600978X">Enterprise JavaBeans 3.0</a> book by <b>Bill Burke</b> I’ve expected something fabulous, but Bills’ lecture about JAX-RS was just average, with no coding, only plain API introduction. Scott Davis' presenting REST and ROA <a href="http://nurkiewicz.com/2009/10/yesterday-i-had-pleasure-to-participate.html">last year</a> was way much better. Thankfully <b>Angelika Langer</b> talk about Java concurrency pitfalls was much more interesting, although one might argue that she just gave a summary of marvelous <a href="http://www.amazon.com/gp/product/0321349601?ie=UTF8&amp;tag=javaandneighb-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0321349601">Java Concurrency in Practice</a> book, that I have <a href="http://nurkiewicz.com/2009/08/java-concurrency-in-practice-written-by.html">recommended</a> long time ago. One new thing I’ve learnt is that updating volatile variable guarantees all other non-volatile variable updated earlier by the same thread to be visible by other threads, as if they were volatile as well (are you following?) After Angelika there was a talk about Java performance testing, but I had a copy of <a href="http://www.amazon.com/gp/product/0596520662?ie=UTF8&amp;tag=javaandneighb-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0596520662">The Art of Application Performance Testing</a> book in my knapsack, so the presentation didn’t caught a lot of my attention.<br /><br />After delicious lunch Ted Neward  gave a talk on functional programming concepts in Java. Charismatic, entertaining, surprising – I knew he will make a great show. In the middle of third or fourth slide he asked innocently who prefers slides to live coding and after finding no such person on the audience, he instantly closed the presentation and opened notepad, writing some Java code from scratch. It looked so natural that I almost believed that he actually had any slides further – but of course this was all set up. Ted mentioned <a href="http://functionaljava.org/">Functional Java</a> library as a way to enable functional style of programming in plain old Java. Another libraries I can point out if you have to stick with this language are: <a href="http://www.fun4j.org/">Fun4J</a>, Google's <a href="http://code.google.com/p/guava-libraries">Guava</a> and <a href="http://code.google.com/p/lambdaj">LambdaJ</a>. Also take a look at <a href="http://projectlombok.org/">Lombok</a> to write more concise POJOs.<br /><br />I’ve seen <b>Piotr Walczyszyn</b> several times evangelizing Flex and AIR so it came a bit of a surprise that I really enjoyed his talk, even though I don’t like front-end programming. But a real surprise was the <b>Linda Rising</b> presentation dealing with the problem of introducing change and convincing our coworkers to it. From time to time we need to look at our job from 10,000 ft perspective, see how ridiculously we sometimes behave and how irrational our choices are. <a href="http://www.amazon.com/gp/product/1934356050?ie=UTF8&amp;tag=javaandneighb-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1934356050">See Pragmatic Thinking and Learning...</a> for a more in-depth analysis on this. Also I recently read marvelous <a href="http://www.amazon.com/gp/product/1400082471?ie=UTF8&amp;tag=javaandneighb-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1400082471">Dreaming in Code</a> by Scott Rosenberg. Linda’s talk complemented these books excellently.<br /><br />On the next day I sacrificed three presentations to participate in Ted Neward’s workshop on Scala – continuing the subject of functional programming. He introduced Scala language step by step, emphasizing the differences and commons misconceptions. I will repeat after him: Scala is compiled, statically typed, <i>consistent</i> language, don’t compare it with Groovy, these are completely different tools. I was doing my best to follow Ted’s examples on my computer and finally I wrote few simple (compiling!) lines of Scala code. Too bad my first presentation on Scala (<a href="http://nurkiewicz.com/2009/05/relacja-z-geecon-2009-w-krakowie.html">during GeeCON 2009</a>) by Luc Duponcheel wasn’t that good and simply beyond my comprehension. Here are few examples of Scala concepts that significantly caught my attention. POJO in Scala:<br /><br /><pre class="brush: scala"><br />import org.apache.commons.lang.builder._<br /><br />class Book(author: String, title: String, year: Int) {<br /><br />  override def toString =<br />    new ToStringBuilder()<br />      .append("author", author)<br />      .append("title", title)<br />      .append("year", year)<br />      .toString()<br />}<br /><br /></pre><br /><br /><br /><a name='more'></a>Please note few things. Firstly, interacting with Java libraries (Apache Commons Lang in this example) is straightforward. Secondly all the types are objects, including primitives (<span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">Int</span> – consistency!) But the most important issue is: where are the fields?!? Scala compiler (<span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">scalac</span>) is a one clever beast: after finding constructor arguments and variables used in <span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">toString()</span> method matching them it figured out that the programmer’s intention was to assign constructor arguments to fields so that <span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">toString()</span> can use these fields afterwards. Here is the proof:<br /><br /><pre class="brush: java"><br />//javap -private Book<br /><br />Compiled from "Book.scala"<br />public class Book extends java.lang.Object implements scala.ScalaObject{<br />    private final java.lang.String author;<br />    private final java.lang.String title;<br />    private final int year;<br />    public java.lang.String toString();<br />    public Book(java.lang.String, java.lang.String, int);<br />}<br /></pre><br /><br />And a better proof if you are bytecode-capable:<br /><br /><pre class="brush: java"><br />//javap -c Book<br />//...<br /><br />public Book(java.lang.String, java.lang.String, int);<br />  Code:<br />   0:   aload_0<br />   1:   aload_1<br />   2:   putfield        #28; //Field author:Ljava/lang/String;<br />   5:   aload_0<br />   6:   aload_2<br />   7:   putfield        #35; //Field title:Ljava/lang/String;<br />   10:  aload_0<br />   11:  iload_3<br />   12:  putfield        #38; //Field year:I<br />   15:  aload_0<br />   16:  invokespecial   #49; //Method java/lang/Object."&lt;init&gt;":()V<br />   19:  return<br /><br />}<br /></pre><br /><br />Need getters? Prepend every constructor argument with <span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">val</span> keyword. Setters as well? Replace <span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">val</span> (<i>value</i>) with <span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">var</span> (<i>variable</i>). No boilerplate code, no code generation needed. Second more comprehensive example is Scala’s <span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">match</span> operator:<br /><br /><pre class="brush: scala"><br />def capitalizeAfterHash(list: List[Char]): List[Char] =<br />  list match {<br />    case '#' :: rest =&gt;<br />      rest.map(_.toUpper)<br />    case _ :: rest =&gt;<br />      capitalizeAfterHash(rest)<br />    case Nil =&gt;<br />      Nil<br />  }<br /><br />println(capitalizeAfterHash('a' :: 'b' :: '#' :: 'c' :: 'd' :: Nil))<br />println(capitalizeAfterHash('#' :: 'c' :: 'd' :: Nil))<br />println(capitalizeAfterHash('a' :: 'b' :: Nil))<br /><br /></pre><br /><br />Match is like switch on steroids. In this example it is used to match list of characters against some patterns. The last case means: "<i>if list is empty (<span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">Nil</span>), return empty list</i>." The first case states: "<i>if the first element of the list is ‘#’, take the rest of the list and call <span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">toUpper()</span> on every item ("<span style="font-family: &quot;Courier New&quot;, &quot;Courier&quot;, monospace;">_</span>" placeholder)</i>". Finally the second case is: "<i>if the first element of the list has any value (except ‘#’ examined earlier), call recursively capitalizeAfterHash with the rest of the list (effectively: repeat without the first element)</i>". Can you guess what does this function do?<br /><br />Scala is not for everybody and you need to have some solid programming background to fully appreciate its expressiveness. I don’t think I will choose Scala from my toolbox anytime soon,  but I will definitely follow this language development. Actually, after observing what is currently happening with JDK 7 (and 8...) I will say loudly: "Java (the language) is dead, long live Java (the JVM)". Some time ago Sun was waiting for so long to develop new, easier and more productive version of their EJB 2.1 standard that competitors came up with much better, although non-standard solutions (think: Spring). Now the same thing is happening with Java (the language) and other JVM languages. That’s why interoperability between new JVM languages and Java code is so important: one day we will end up with tons of legacy code in (dead) Java language (because Sun/Oracle was too reluctant to update the language; see F#, LINQ, etc.), adding new features and rewriting parts of old systems in new, dynamic and more productive languages. JVM is great, but one day Java will become only a historic language, reference and exemplary implementation, not used anymore. Like <a href="http://en.wikipedia.org/wiki/Reference_counting">reference counting</a> as a way of implementing garbage collection.<br /><br />Where was I? Oh, JDD 2010. To be honest, nothing interesting happened after marvelous Ted Neward’s workshop. At least two presentations were extremely boring, but I had no choice, as there was only one track. Actually, if we exclude workshops, the amount of presentations was comparable to last year, even though the conference lasted for 2 days in the contrary to one day in 2009. But last year there were two independent tracks. So the conference was two times longer (which was the biggest demand of the participants last year, including myself) but introduced similar number of presentations – nice marketing trick! The second demand was to change the place where the conference was taking place last year (sports hall with plastic chairs? <i>C'mon!</i>) Seems like this suggestion was somehow missed...<br /><br />Thankfully I attended very interesting presentations by Ted Neward, Linda Rising and Angelika Langer. Without them I would be somewhat disappointed by this year’s Java Developers’ Day. Main tips for organizers: find a comfortable conference centre and don’t force people to attend sponsored talks. And don’t stop! As still JDD is a great event with lots of potential.